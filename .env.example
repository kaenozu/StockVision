# StockVision Environment Configuration Example
# Copy this file to .env and modify values as needed

# ===============================
# Application Environment
# ===============================
# Options: development, staging, production
ENVIRONMENT=development

# ===============================
# API Server Configuration  
# ===============================
# API server host (default: localhost)  
API_HOST=localhost

# API server port (default: 8000)
API_PORT=8000

# ===============================
# CORS Configuration
# ===============================
# Comma-separated list of allowed origins
# Example: http://localhost:3000,http://localhost:8080,https://yourdomain.com
# CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Yahoo Finance API Settings
# Set to 'true' to enable real Yahoo Finance API calls, 'false' for mock data (default: false)
USE_REAL_YAHOO_API=false

# Yahoo Finance API rate limiting
YAHOO_MAX_REQUESTS=10
YAHOO_TIME_WINDOW=60
YAHOO_MAX_CONCURRENT=5
YAHOO_TIMEOUT=30
YAHOO_RETRY_ATTEMPTS=3
YAHOO_RETRY_DELAY=1.0
YAHOO_CACHE_TTL=300

# Cache configuration (in seconds)
CACHE_STOCK_INFO_TTL=300.0
CACHE_CURRENT_PRICE_TTL=60.0
CACHE_PRICE_HISTORY_TTL=600.0

# Database configuration
DATABASE_URL=sqlite:///./stocks.db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Application settings
DEBUG=false
LOG_LEVEL=INFO
SERVER_URL=http://localhost:8000

# CORS settings
# Comma-separated list of allowed origins (e.g., "http://localhost:3000,https://myapp.com")
# Use "*" to allow all origins (not recommended for production)
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# Middleware Configuration
# Enable or disable specific middleware components.
# Set to 'true' to enable, 'false' to disable.
MIDDLEWARE_CORS_ENABLED=true
MIDDLEWARE_ERROR_HANDLING_ENABLED=true
MIDDLEWARE_PERFORMANCE_ENABLED=true

# CORS / Allowed origins (production)
# 本番環境で許可するオリジンをカンマ区切りで指定（例: https://stockvision.example.com, https://app.stockvision.jp）
PROD_CORS_ORIGINS=

# OpenAPI / Public URLs
# Publicly accessible API base URL (e.g., behind reverse proxy / production)
# Example: https://api.stockvision.example.com
API_PUBLIC_URL=
# Additional server URLs to include in the OpenAPI servers list (comma-separated)
# Example: https://staging.api.stockvision.example.com, https://dev.api.stockvision.example.com
API_ADDITIONAL_SERVER_URLS=

# Example configurations for different environments:

## Development with mock data (fast, no external API calls):
# USE_REAL_YAHOO_API=false
# DEBUG=true
# LOG_LEVEL=DEBUG

## Production with real Yahoo Finance data:
# USE_REAL_YAHOO_API=true
# DEBUG=false
# LOG_LEVEL=INFO
# YAHOO_MAX_REQUESTS=5
# YAHOO_TIME_WINDOW=60

## Testing with real API but strict rate limiting:
# USE_REAL_YAHOO_API=true
# YAHOO_MAX_REQUESTS=3
# YAHOO_TIME_WINDOW=60
# YAHOO_CACHE_TTL=600

# ===============================
# Frontend Environment Variables
# ===============================
# Note: Frontend variables must be prefixed with VITE_
# API Base URL for frontend (optional - auto-detected if not set)
# VITE_API_BASE_URL=http://localhost:8000/api
